.container-fluid
  %h1 Pickups

  .table-responsive
    %table.table.table-sm
      %thead
        %tr
          %th Name
          %th Email
          %th Street address
          %th Driver
          %th Donation
          %th Size
          %th Latitude
          %th Longitude
          %th

      %tbody
        - @pickups.each do |pickup|
          %tr
            %td= pickup.name
            %td= pickup.email
            %td= pickup.street_address
            %td
              - if pickup.driver
                = link_to pickup.driver.name, driver_path(pickup.driver)
              - else
                = link_to 'Assign', edit_pickup_path(pickup)

            %td
              - pickup.charges.each do |charge|
                = link_to number_to_currency(charge.charge_amount / 100.00), charge_path(charge)
                %br
            %td= pickup.size
            %td= pickup.latitude
            %td= pickup.longitude
            %td
              = link_to 'Show', pickup
              = '|'
              = link_to 'Edit', edit_pickup_path(pickup)
              / = '|'
              / = link_to 'Destroy', pickup, method: :delete, data: { confirm: 'Are you sure?' }


  %br

  = paginate @pickups


  = link_to 'New Pickup', new_pickup_path
